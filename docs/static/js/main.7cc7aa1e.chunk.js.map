{"version":3,"sources":["assets/imgs/attack-bomb.png","assets/imgs/attack-fog.png","assets/imgs/attack-lock.png","assets/imgs/defense-bomb.png","assets/imgs/defense-fog.png","assets/imgs/defense-lock.png","assets/imgs/defense-mirror.png","assets/imgs/logo-bingo.png","services/i18n/type.js","services/i18n/reducer.js","services/i18n/index.jsx","services/game/firebase.js","services/game/service.fn.js","services/game/reducer.js","services/game/index.jsx","components/bs/options.fn.js","components/bs/options.type.js","components/bs/Grid.jsx","services/custom/events.js","components/bs/Modal.jsx","components/bs/Collapse.jsx","components/panel/IntroModal.jsx","components/bs/Card.jsx","components/panel/BingoCard.jsx","components/panel/options.type.js","components/panel/Territories.jsx","components/panel/GameStep.jsx","components/App.jsx","index.js"],"names":["module","exports","lang","Language","EN","Symbol","ZH","DEFAULT_LANG","localStorage","getItem","navigator","language","toLowerCase","substring","indexOf","undefined","StateStore","state","locale","messages","ActionStore","action","getI18n","then","intl","dispatch","default","useI18n","useContext","Context","createContext","get","set","I18n","children","useReducer","$dispatch","getMessage","useCallback","code","toUpperCase","Provider","value","connectWebsocket","gameRoom","fn","on","snapshot","console","log","key","val","GameRoom","userID","gameID","type","child","launcher","ref","database","uid","once","exists","remove","websocketFn","push","owner","status","competitor","newGame","setItem","STORAGE_GAME_ID","content","Promise","resolve","reject","values","this","search","update","caller","rounds","Firebase","initializeApp","JSON","parse","generate","opts","count","window","DECODE_NAME","FIREBASE_OPTIONS","DECODE_COUNT","STORAGE_USER_ID","uuidv4","bingo","doSearch","catch","err","doCreate","create","doJoin","join","doSay","msg","sender","doAttack","attack","newAttack","emptyFn","imgs","defense_bomb","attack_bomb","defense_fog","attack_fog","defense_lock","attack_lock","defense_mirror","getCards","CARDS","map","card","Object","keys","reduce","ccResult","name","CamelCase","getRoundCard","cards","list","description","rangeX","rangeY","i","length","splice","Math","ceil","random","sort","floor","reverse","getZIndex","x","y","getAction","params","getRounds","newRound","step","isMyTurn","slice","getNumbers","nums","num","zone","result","numbers","bgClass","number","parseFloat","getNumbersWithAttack","zones","ranges","z","$x","$y","attacks","filter","stringify","getCardImage","getCardParams","target","Error","doWebsocket","doResponse","onSuccess","onFail","doDefense","defenses","effects","Array","isArray","useCardRange","useMemo","StateReducer","round","ServiceFn","ActionReducer","GameBase","defenseState","isNaN","defaultOptions","GameContext","GameCustom","useCardImage","useAllCards","useGame","Game","isBreakPointOpts","options","prop","getSpacingClass","kind","cls","forEach","breakpoint","getBsClass","size","start","end","$value","uniqueArray","arr","getColorClasses","bg","border","text","getContainerClasses","display","className","margin","padding","rounded","hidden","colors","def","arrow","getBorderClass","getRoundedClass","hiddenOn","getDisplayClass","BsColors","PropTypes","oneOf","BsContainerColor","exact","Spacing","MarginAuto","Margin","oneOfType","t","b","l","r","Padding","BsMargin","sm","md","lg","xl","BsPadding","BsBorder","bool","BsRounded","Col12","ColWidth","ColOrder","BreakPoint","BsHidden","arrayOf","BsColWidth","BsColOffset","BsColOrder","BsTagName","string","elementType","BsChildren","any","isRequired","CLOSE_MODAL","BsContainer","props","createElement","tagName","propTypes","object","BsRow","gutters","align","alignable","getColOptions","getColClasses","width","offset","order","option","BsCol","getInvalid","BsModal","show","isShow","setShow","backdrop","icon","title","btns","handler","onShow","handlerFn","useEffect","doCloseModal","onHandler","onClickBackdrop","e","$","hasClass","useEvents","onClick","aria-hidden","btnIcon","color","BsCollapse","useGameID","setValue","validation","useState","invalid","setInvalid","vres","useChange","URL","location","href","searchParams","replace","id","IntroModal","onChangeID","invalidID","expand","setExpand","doSwitch","collapseID","history","replaceState","document","onSubmit","preventDefault","stopPropagation","onSwitch","onNewGame","open","encodeURIComponent","onJoinGame","useCustom","alt","src","logo","onChange","disabled","trim","BsCardExtends","defaultPropTypes","BsCardTitle","defaultProps","BsCardText","BsCardHeader","BsCardBody","BsCardFooter","BsCard","image","visibled","setVisibled","onImageLoad","useCustomCard","onLoad","BingoCard","onUseCard","doUseCard","useBingoCard","lengnth","CardEffectType","EffectsType","empty","defaultZones","0","1","2","3","4","5","6","7","8","Land","isSelecting","onSelected","Territories","cursor","mode","hoverOn","clientX","clientY","cursorOn","setCursorOn","territoriesID","find","each","el","popover","container","toggle","html","trigger","placement","attr","onHoverCursor","elementFromPoint","classList","contains","hoverX","getAttribute","hoverY","hoverZ","useTerritories","onMouseMove","onMouseLeave","style","top","left","opacity","CenterMessage","onClose","animation","Step","Waiting","onCancelWaiting","Finish","onGameFinish","Switch","GetCard","onGetCard","ShowCard","Attack","GameStep","useStepName","func","App","defenseRange","onBackToMenu","reload","ReactDOM","render","component","getElementById"],"mappings":"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","file":"static/js/main.7cc7aa1e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/attack-bomb.46db2040.png\";","module.exports = __webpack_public_path__ + \"static/media/attack-fog.b61bc358.png\";","module.exports = __webpack_public_path__ + \"static/media/attack-lock.2cdb76ee.png\";","module.exports = __webpack_public_path__ + \"static/media/defense-bomb.ef3fe63a.png\";","module.exports = __webpack_public_path__ + \"static/media/defense-fog.4f4089fb.png\";","module.exports = __webpack_public_path__ + \"static/media/defense-lock.06459341.png\";","module.exports = __webpack_public_path__ + \"static/media/defense-mirror.9191c787.png\";","module.exports = \"data:image/png;base64,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\"","export const Language = {\r\n  EN: Symbol('English'),\r\n  ZH: Symbol('繁體中文')\r\n};\r\n\r\nconst DEFAULT_LANG = (lang =>\r\n  lang.substring(0, lang.indexOf('-') > 0 ? lang.indexOf('-') : undefined)\r\n)(localStorage.getItem('CASH_MAP_LANG') || navigator.language.toLowerCase());\r\n\r\nexport default DEFAULT_LANG;\r\n","import { Language } from './type';\r\n\r\nexport const StateStore = (state, { locale, messages } = state) => ({ locale, messages });\r\n\r\nexport const ActionStore = (state, action) => {\r\n  getI18n(action).then(intl => state.dispatch(intl));\r\n\r\n  return state;\r\n};\r\n\r\nexport default function getI18n(lang) {\r\n  switch (lang) {\r\n    case Language.ZH:\r\n      return import('../../assets/i18n/zh.json').then(({ default: messages }) => ({\r\n        locale: 'zh',\r\n        messages\r\n      }));\r\n\r\n    default:\r\n      return import('../../assets/i18n/en.json').then(({ default: messages }) => ({\r\n        locale: 'en',\r\n        messages\r\n      }));\r\n  }\r\n};\r\n","import React, { createContext, useReducer, useContext, useCallback } from 'react';\r\nimport { IntlProvider } from 'react-intl';\r\n\r\nimport DEFAULT_LANG, { Language } from './type';\r\nimport getI18n, { StateStore, ActionStore } from './reducer';\r\n\r\n\r\n// TODO: Custom Functions\r\nexport const useI18n = () => useContext(Context);\r\n\r\n// TODO: Components\r\nconst Context = createContext({\r\n  locale: DEFAULT_LANG,\r\n  get: () => '',\r\n  set: () => {}\r\n});\r\n\r\nexport default function I18n({ children }) {\r\n  const [{ locale, messages }, $dispatch] = useReducer(StateStore, { locale: 'en', messages: {}});\r\n  const getMessage = useCallback(code => !code ? null : (code in messages) ? messages[ code ] : code, [ messages ]);\r\n\r\n  const dispatch = useReducer(ActionStore, { dispatch: $dispatch }, () =>\r\n    getI18n(Language[DEFAULT_LANG.toUpperCase()]).then(intl => $dispatch(intl))\r\n  );\r\n\r\n  return (\r\n    <Context.Provider value={{ locale, messages, set: dispatch[1], get: getMessage }}>\r\n      <IntlProvider {...{ locale, messages }}>\r\n        { children }\r\n      </IntlProvider>\r\n    </Context.Provider>\r\n  );\r\n};\r\n","import Firebase from 'firebase/app';\r\nimport uuidv4 from 'uuid';\r\n\r\nimport 'firebase/database';\r\n\r\nimport {\r\n  FIREBASE_OPTIONS,\r\n  DECODE_NAME,\r\n  DECODE_COUNT,\r\n\r\n  STORAGE_USER_ID,\r\n  STORAGE_GAME_ID\r\n} from '../../assets/config/api.json';\r\n\r\n\r\n// TODO: Export Class\r\nfunction connectWebsocket(gameRoom, fn) {\r\n  gameRoom.on('child_changed', snapshot => {\r\n    console.log(snapshot.key, snapshot.val());\r\n\r\n    if ('competitor' === snapshot.key && snapshot.val() !== GameRoom.userID)\r\n      fn({ gameID: gameRoom.key, type: 'competitor', value: snapshot.val() });\r\n  });\r\n\r\n  gameRoom.child('msg').on('child_added', snapshot =>\r\n    fn({ gameID: gameRoom.key, type: 'msg', value: snapshot.val() })\r\n  );\r\n\r\n  gameRoom.child('rounds').on('child_added', snapshot => {\r\n    console.log(snapshot.key, snapshot.val());\r\n    fn({ gameID: gameRoom.key, type: 'rounds', value: snapshot.val() })\r\n  });\r\n\r\n  gameRoom.child('attacks').on('child_added', snapshot =>\r\n    snapshot.val().launcher === GameRoom.userID ? null : fn({\r\n      gameID : gameRoom.key,\r\n      type   : 'attacks',\r\n      value  : snapshot.val()\r\n    })\r\n  );\r\n}\r\n\r\nclass GameRoom {\r\n  static database = Firebase.initializeApp(JSON.parse((function generate(opts, count) {\r\n    return count > 0 ? generate(window[DECODE_NAME](opts), --count) : opts;\r\n  })(FIREBASE_OPTIONS, DECODE_COUNT))).database();\r\n\r\n  static userID = (() => {\r\n    if (!localStorage.getItem(STORAGE_USER_ID))\r\n      localStorage.setItem(STORAGE_USER_ID, uuidv4());\r\n\r\n    return localStorage.getItem(STORAGE_USER_ID);\r\n  })();\r\n\r\n  static uid = localStorage.getItem(STORAGE_GAME_ID);\r\n\r\n  ref = null;\r\n\r\n  constructor() {\r\n    GameRoom.database.ref('GameRoom').child(GameRoom.uid).once('value',\r\n      snapshot => !snapshot.exists() ? null : snapshot.ref.remove()\r\n    );\r\n  }\r\n\r\n  get uid() { return (this.ref || {}).key || ''; }\r\n\r\n  get snapshot() { return new Promise(resolve => this.ref.once('value', snapshot => resolve(snapshot))); }\r\n\r\n  create(websocketFn) {\r\n    return GameRoom.database.ref('GameRoom')\r\n      .push({ owner: GameRoom.userID, status: 'WAITING', competitor: '' })\r\n      .then(newGame => {\r\n        this.ref = newGame;\r\n        localStorage.setItem(STORAGE_GAME_ID, newGame.key);\r\n        connectWebsocket(newGame, websocketFn);\r\n\r\n        return {\r\n          status   : 200,\r\n          content  : {\r\n            gameID : newGame.key,\r\n            userID : GameRoom.userID,\r\n            status : 'WAITING',\r\n            owner  : GameRoom.userID\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  search(uid) {\r\n    return new Promise((resolve, reject) => GameRoom.database.ref('GameRoom').child(uid).once('value', snapshot => {\r\n      const { owner, competitor, status } = snapshot.val() || {};\r\n\r\n      if (!snapshot.exists() || !owner)\r\n        return reject('MSG_INVALID_GAME_ID');\r\n      else if (owner === GameRoom.userID || !!competitor || 'WAITING' !== status)\r\n        return reject('MSG_UNALLOWED_VISIT');\r\n\r\n      resolve(snapshot);\r\n    }));\r\n  }\r\n\r\n  join(uid, websocketFn) {\r\n    let values;\r\n\r\n    return this.search(uid).then(snapshot => {\r\n      values   = snapshot.val();\r\n      this.ref = snapshot.ref;\r\n\r\n      localStorage.setItem(STORAGE_GAME_ID, snapshot.key);\r\n      connectWebsocket(snapshot.ref, websocketFn);\r\n\r\n      return snapshot;\r\n    }).then(snapshot => snapshot.ref.update({\r\n      ...snapshot.val(),\r\n      status     : 'PLAYING',\r\n      competitor : GameRoom.userID\r\n    })).then(() => this.ref.child('rounds').push({\r\n      caller: values.owner\r\n    })).then(() => new Promise(resolve => this.ref.once('value', snapshot => resolve({\r\n      status  : 200,\r\n      content : { ...snapshot.val(), rounds: undefined }\r\n    }))));\r\n  }\r\n}\r\n\r\n\r\n// TODO: Export Methods\r\nexport default (bingo => ({\r\n\r\n  doSearch : key => bingo.search(key)\r\n    .then(() => ({ status: 200, content: true }))\r\n    .catch(err => ({ status: 500, content: err })),\r\n\r\n  doCreate : websocketFn => bingo.create(websocketFn).catch(err => ({ status: 500, content: err })),\r\n\r\n  doJoin   : (key, websocketFn) => bingo.join(key, websocketFn).catch(err => ({ status: 500, content: err })),\r\n\r\n  doSay    : msg => bingo.ref.child('msg')\r\n    .push({ sender: GameRoom.userID, msg })\r\n    .then(() => ({ status: 200, content: true }))\r\n    .catch(err => ({ status: 500, content: err })),\r\n\r\n  doAttack : attack => {\r\n    console.log(attack);\r\n    return bingo.ref.child('attacks')\r\n    .push({ ...attack, launcher: GameRoom.userID })\r\n    .then(newAttack => new Promise(resolve => newAttack.once('child_changed', snapshot => resolve({\r\n      status: 200,\r\n      content: { attack: { ...snapshot.val(), uid: newAttack.key }}\r\n    }))))\r\n    .catch(err => ({ status: 500, content: err }))}\r\n}))(new GameRoom());\r\n","import { useMemo } from 'react';\r\nimport CamelCase from 'camelcase';\r\n\r\nimport { CARDS } from '../../assets/config/chance-cards.json';\r\n\r\nimport attack_bomb from '../../assets/imgs/attack-bomb.png';\r\nimport attack_fog from '../../assets/imgs/attack-fog.png';\r\nimport attack_lock from '../../assets/imgs/attack-lock.png';\r\nimport defense_bomb from '../../assets/imgs/defense-bomb.png';\r\nimport defense_fog from '../../assets/imgs/defense-fog.png';\r\nimport defense_lock from '../../assets/imgs/defense-lock.png';\r\nimport defense_mirror from '../../assets/imgs/defense-mirror.png';\r\n\r\n\r\nfunction emptyFn() {};\r\n\r\nconst imgs = {\r\n  defense_bomb , attack_bomb ,\r\n  defense_fog  , attack_fog  ,\r\n  defense_lock , attack_lock ,\r\n  defense_mirror\r\n};\r\n\r\nconst getCards = () => CARDS.map(card => Object.keys(card).reduce(\r\n  (ccResult, name) => ({ ...ccResult, [ CamelCase(name) ]: card[name] }), {}\r\n));\r\n\r\nconst getRoundCard = (function() {\r\n  const cards = getCards().reduce((list, { description, type, rangeX, rangeY, count }) => {\r\n    const i = list.length + count;\r\n\r\n    while (list.length < i) list.splice(Math.ceil(Math.random() * list.length), 0, {\r\n      description, type, rangeX, rangeY\r\n    });\r\n    return list;\r\n  }, [])\r\n  .sort(() => Math.floor(Math.random() * 12) % 3 - 2)\r\n  .reverse()\r\n  .sort(() => Math.floor(Math.random() * 12) % 3 - 2);\r\n\r\n  console.log(cards[0]);\r\n\r\n  return i => cards[i];\r\n})();\r\n\r\nconst getZIndex = (x, y) => Math.floor(x / 3) % 3 + Math.floor(y / 3) * 3;\r\n\r\n\r\n// TODO: Export Functions\r\nexport default {\r\n\r\n  getAction: params => 'object' === typeof params ? params : { action: params },\r\n\r\n  getRounds: ({ userID = '', rounds }, newRound, step) => {\r\n    const isMyTurn = (newRound || rounds[rounds.length - 1] || {}).caller === userID;\r\n  \r\n    if (newRound) return [ ...rounds, !isMyTurn ? newRound : {\r\n      ...newRound,\r\n      step: 1,\r\n      card: getRoundCard(Math.floor(rounds.length / 2))\r\n    }];\r\n    return !isMyTurn || (!step && step !== 0) ? rounds : [ ...rounds.slice(0, rounds.length - 1), {\r\n      ...rounds[ rounds.length - 1 ],\r\n      step\r\n    }]\r\n  },\r\n\r\n  getNumbers: () => {\r\n    const nums = [];\r\n  \r\n    while (nums.length < 81)\r\n      nums.push(nums.length + 1);\r\n  \r\n    return nums\r\n      .sort(() => Math.floor(Math.random() * 12) % 3 - 2)\r\n      .sort(() => Math.floor(Math.random() * 12) % 3 - 2)\r\n      .map((num, i) => ({\r\n        num,\r\n        zone: Math.floor(i / 9)\r\n      }))\r\n      .reduce((result, { num, zone }) => {\r\n        const numbers = (result[ zone ] || { numbers: []}).numbers;\r\n\r\n        return {\r\n          ...result,\r\n          [ zone ]   : {\r\n            bgClass  : `zone-bg-${ zone + 1 }`,\r\n            numbers  : [ ...numbers, {\r\n              number : num,\r\n              x      : parseFloat(zone) % 3 * 3 + numbers.length % 3,\r\n              y      : Math.floor(parseFloat(zone) / 3) * 3 + Math.floor(numbers.length / 3)\r\n            }]\r\n          }\r\n        };\r\n      }, {});\r\n  },\r\n\r\n  getNumbersWithAttack: ({ ranges, type, description }, zones) => ranges.reduce((result, { x, y, z }) => {\r\n    const { bgClass, numbers } = result[z];\r\n\r\n    return {\r\n      ...result,\r\n      [ z ]: {\r\n        bgClass,\r\n        numbers: numbers.map(({ x: $x, y: $y, number, attacks = [] }) => ({\r\n          x: $x,\r\n          y: $y,\r\n          number,\r\n          attacks: $x !== x || $y !== y ? attacks : [\r\n            ...attacks,\r\n            ...(attacks.filter(\r\n              card => JSON.stringify(card) === JSON.stringify({ type, description })\r\n            ).length > 0 ? [] : [{ type, description }])\r\n          ]\r\n        }))\r\n      }\r\n    };\r\n  }, zones),\r\n\r\n  getCards,\r\n\r\n  getCardImage: ({ type, description }) => imgs[`${ type.toLowerCase() }_${ description.toLowerCase() }`],\r\n\r\n  getCardParams: ({ target, x, y, z, card: { type, description }}) => {\r\n    switch (target) {\r\n      case 'zone'   : return { type, description, ranges: [{ z }] };\r\n      case 'cell'   : return { type, description, ranges: [{ x, y, z }] };\r\n      case 'line-x' : return { type, description, ranges: (ranges => {\r\n        while (ranges.length < 9) ranges.push({ x, y: ranges.length, z: getZIndex(x, ranges.length) });\r\n        return ranges;\r\n      })([]) };\r\n      case 'line-y' : return { type, description, ranges: (ranges => {\r\n        while (ranges.length < 9) ranges.push({ y, x: ranges.length, z: getZIndex(ranges.length, y) });\r\n        return ranges;\r\n      })([]) };\r\n      default:\r\n        throw new Error('Error target type, it must be \"cell\" / \"line-x\" / \"line-y\" / \"zone\".');\r\n    }\r\n  },\r\n\r\n  doWebsocket: dispatch => ({ gameID, type, value }) => dispatch({\r\n    [ 'rounds' === type ? 'round' : 'attacks' === type ? 'attack' : type ]: value,\r\n    gameID,\r\n    ...('competitor' === type ? { status: 'PLAYING' } : {})\r\n  }),\r\n\r\n  doResponse: ({ dispatch }, { onSuccess = emptyFn, onFail = emptyFn }, params) => ({ status, content }) => {\r\n    if (status !== 200)\r\n      onFail(params || content)\r\n    else {\r\n      dispatch(params || content);\r\n      onSuccess(params || content);\r\n    }\r\n  },\r\n\r\n  doDefense: ({ dispatch, defenses = {} }, { type, description, ranges }) => ({\r\n    dispatch,\r\n    defenses: ranges.reduce((result, { x, y }) => {\r\n      const key = `${ x }-${ y }`;\r\n      const effects = Array.isArray(result[key]) ? result[key] : [];\r\n\r\n      return {\r\n        ...result,\r\n        [ key ]: [\r\n          ...effects,\r\n          ...(effects.filter(\r\n            card => JSON.stringify(card) === JSON.stringify({ type, description })\r\n          ).length > 0 ? [] : [{ type, description }])\r\n        ]\r\n      };\r\n    }, defenses)\r\n  }),\r\n\r\n  useCardRange: (card = {}) => useMemo(() => card.rangeX === 1 && card.rangeY === 1 ? 'cell'\r\n    : card.rangeX === 9 && card.rangeY === 1 ? 'line-y'\r\n      : card.rangeX === 1 && card.rangeY === 9 ? 'line-x' : 'zone', [ card ])\r\n}","import GameBase from './firebase';\r\nimport ServiceFn from './service.fn';\r\n\r\n\r\n// TODO: Reducers\r\nexport function StateReducer(state, {\r\n  gameID      = state.gameID      , status ,\r\n  userID      = state.userID      , msg    ,\r\n  owner       = state.owner       , round  ,\r\n  competitor  = state.competitor  , step   ,\r\n  zones       = state.zones       , attack\r\n}) {\r\n  return {\r\n    gameID , userID     ,\r\n    owner  , competitor , \r\n\r\n    msg    : msg ? [ ...state.msg, msg ] : state.msg,\r\n    status : status || state.status,\r\n    rounds : ServiceFn.getRounds(state, round, step),\r\n    zones  : 'PLAYING' === status && Object.keys(state.zones).length === 0 ? ServiceFn.getNumbers()\r\n      : !attack ? zones : ServiceFn.getNumbersWithAttack(attack, zones)\r\n  };\r\n};\r\n\r\nexport function ActionReducer(state, params) {\r\n  const { dispatch } = state;\r\n  const { action, gameID, msg, step, onSuccess = () => {} } = ServiceFn.getAction(params);\r\n\r\n  switch (action) {\r\n    case 'SEARCH_GAME':\r\n      GameBase.doSearch(gameID).then(ServiceFn.doResponse(state, params));\r\n      break;\r\n\r\n    case 'NEW_GAME':\r\n      GameBase.doCreate(ServiceFn.doWebsocket(dispatch)).then(ServiceFn.doResponse(state, params));\r\n      break;\r\n\r\n    case 'JOIN_GAME':\r\n      GameBase.doJoin(gameID, ServiceFn.doWebsocket(dispatch)).then(ServiceFn.doResponse(state, params));\r\n      break;\r\n\r\n    case 'SEND_MSG':\r\n      GameBase.doSay(msg).then(ServiceFn.doResponse(state, params, { msg }));\r\n      break;\r\n\r\n    case 'ATTACK':\r\n      GameBase.doAttack(ServiceFn.getCardParams(params)).then(ServiceFn.doResponse(state, params));\r\n      break;\r\n\r\n    case 'DEFENSE':\r\n      const defenseState = ServiceFn.doDefense(state, ServiceFn.getCardParams(params));\r\n\r\n      dispatch({ step: 4 });\r\n      onSuccess({ defenses: defenseState.defenses });\r\n      \r\n      return defenseState;\r\n\r\n    case 'BUILD':\r\n      break;\r\n    default:\r\n      if ((step !== 0 && !step && isNaN(step)) || step < 0 || step > 3) throw new Error(\r\n        `The step number is wrong(${ step }).`\r\n      );\r\n      dispatch({ step });\r\n  }\r\n  return state;\r\n};\r\n","import React, { createContext, useMemo, useReducer, useContext } from 'react';\r\n\r\nimport { StateReducer, ActionReducer } from './reducer';\r\nimport ServiceFn from './service.fn';\r\n\r\n\r\n// TODO: Basic\r\nconst defaultOptions = {\r\n  gameID     : ''     , zones  : {},\r\n  status     : 'NONE' , rounds : [],\r\n  userID     : ''     , msg    : [],\r\n  owner      : ''     ,\r\n  competitor : ''\r\n};\r\n\r\n// TODO: Components\r\nconst GameContext = createContext({ ...defaultOptions, dispatch: () => {}});\r\n\r\nexport const GameCustom = {\r\n  useCardRange : ServiceFn.useCardRange,\r\n  useCardImage : ServiceFn.getCardImage,\r\n  useAllCards  : () => ServiceFn.getCards(),\r\n  useGame      : () => {\r\n    const { gameID, userID, status, zones, rounds, attacks, defenses, dispatch } = useContext(GameContext);\r\n    const round = useMemo(() => rounds[rounds.length - 1] || {}, [ rounds ]);\r\n\r\n    return { gameID, userID, status, zones, ...round, defenses, dispatch };\r\n  }\r\n};\r\n\r\nexport default function Game({ children }) {\r\n  const state  = useReducer(StateReducer, defaultOptions);\r\n  const [{ defenses }, dispatch] = useReducer(ActionReducer, { dispatch: state[1], defenses: {} });\r\n\r\n  return (\r\n    <GameContext.Provider value={{ ...state[0], defenses, dispatch }}>\r\n      { children }\r\n    </GameContext.Provider>\r\n  );\r\n};\r\n","// TODO: Private Methods\r\nfunction isBreakPointOpts(options) {\r\n  return Object.keys(options).filter(prop => [ 'def', 'sm', 'md', 'lg', 'xl' ].indexOf(prop) >= 0).length > 0;\r\n}\r\n\r\nfunction toFullArrow(arrow) {\r\n  return 't' === arrow ? 'top' : 'b' === arrow ? 'bottom' : 'l' === arrow ? 'left' : 'right';\r\n};\r\n\r\nfunction getSpacingClass(kind, options) {\r\n  const cls = [];\r\n\r\n  Object.keys(options).forEach(breakpoint => {\r\n    const value = options[breakpoint];\r\n\r\n    if (value !== false) {\r\n      if ('number' === typeof value)\r\n        cls.push(getBsClass({ size: breakpoint, start: kind, end: value }));\r\n      else Object.keys(value).forEach(on => {\r\n        const $value = value[on] || '';\r\n\r\n        if ($value || $value === 0)\r\n          cls.push(getBsClass({ size: breakpoint, start: `${kind}${on}`, end: $value }));\r\n      });\r\n    }\r\n  });\r\n  return cls;\r\n}\r\n\r\nfunction getBorderClass(options) {\r\n  const cls = [];\r\n\r\n  if (options !== false) {\r\n    if (options === true)\r\n      cls.push('border');\r\n    else Object.keys(options).forEach(on =>\r\n      cls.push(`border-${ toFullArrow(on) }`)\r\n    );\r\n  }\r\n  return cls;\r\n}\r\n\r\nfunction getRoundedClass(options) {\r\n  const cls = [];\r\n\r\n  if (options !== false) {\r\n    if (options === true)\r\n      cls.push('rounded');\r\n    else Object.keys(options).forEach(prop => {\r\n      const {[ prop ]: value } = options;\r\n\r\n      if (value)\r\n        cls.push(`rounded-${value}`);\r\n    });\r\n  }\r\n  return cls;\r\n}\r\n\r\nfunction getDisplayClass(display, options) {\r\n  const cls = [`d-${options === true ? 'none' : display}`];\r\n\r\n  options = options === true ? 'def' : options;\r\n\r\n  if (options !== false) {\r\n    const hiddenOn = Array.isArray(options) ? options : [options];\r\n\r\n    ['def', 'sm', 'md', 'lg', 'xl'].filter(breakpoint =>\r\n      hiddenOn.indexOf(breakpoint) >= 0\r\n    ).forEach(breakpoint => {\r\n      cls.splice(cls.indexOf(getBsClass({ size: breakpoint, start: 'd', end: display })), 1);\r\n      cls.push(getBsClass({ size: breakpoint, start: 'd', end: 'none' }));\r\n    });\r\n  }\r\n  return cls;\r\n}\r\n\r\n\r\n// TODO: Export Functions\r\nexport const uniqueArray = arr => arr.filter((prop, i) => !!prop && arr.indexOf(prop) === i);\r\n\r\nexport const getBsClass = ({ size = '', start = '', end = '' } = {}) => [start, 'def' === size ? '' : size, end].filter(\r\n  value => value === 0 || !!value\r\n).join('-');\r\n\r\nexport const getColorClasses = ({ bg, border, text } = {}) => uniqueArray([\r\n  bg ? `bg-${ bg }` : '',\r\n  border ? `border-${ border }` : '',\r\n  text ? `text-${ text }` : ''\r\n]).join(' ');\r\n\r\nexport const getContainerClasses = (display, {\r\n  className = '',\r\n  margin    = false,\r\n  padding   = false,\r\n  border    = false,\r\n  rounded   = false,\r\n  hidden    = false,\r\n  colors    = false\r\n}) => uniqueArray([\r\n  className,\r\n  ...getSpacingClass('m', isBreakPointOpts(margin) ? margin : { def: margin }),\r\n  ...getSpacingClass('p', isBreakPointOpts(padding) ? padding : { def: padding }),\r\n  ...getBorderClass(border),\r\n  ...getRoundedClass(rounded),\r\n  ...getDisplayClass(display, hidden),\r\n  getColorClasses(!colors ? {} : colors)\r\n]).join(' ');\r\n","import PropTypes from 'prop-types';\r\n\r\n\r\n// TODO: Colors\r\nexport const BsColors = PropTypes.oneOf([\r\n  'primary',\r\n  'info',\r\n  'success',\r\n  'warning',\r\n  'danger',\r\n  'white',\r\n  'light',\r\n  'secondary',\r\n  'dark'\r\n]);\r\n\r\nexport const BsBtnColors = PropTypes.oneOf([\r\n  'primary',\r\n  'info',\r\n  'success',\r\n  'warning',\r\n  'danger',\r\n  'light',\r\n  'secondary',\r\n  'dark'\r\n]);\r\n\r\nexport const BsContainerColor = PropTypes.exact({\r\n  bg: BsColors,\r\n  border: BsColors,\r\n  text: BsColors\r\n});\r\n\r\n\r\n// TODO: Spacing\r\nconst Spacing = PropTypes.oneOf([ 0, 1, 2, 3, 4, 5 ]);\r\nconst MarginAuto = PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 'auto' ]);\r\n\r\nconst Margin = PropTypes.oneOfType([\r\n  PropTypes.oneOf([ false ]),\r\n  Spacing,\r\n  PropTypes.exact({ t: Spacing, b: Spacing, y: Spacing, l: MarginAuto, r: MarginAuto, x: MarginAuto })\r\n]);\r\n\r\nconst Padding = PropTypes.oneOfType([\r\n  PropTypes.oneOf([ false ]),\r\n  Spacing,\r\n  PropTypes.exact({ t: Spacing, b: Spacing, y: Spacing, l: Spacing, r: Spacing, x: Spacing })\r\n]);\r\n\r\nexport const BsMargin = PropTypes.oneOfType([\r\n  Margin,\r\n  PropTypes.exact({\r\n    def : Margin,\r\n    sm  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Margin ]),\r\n    md  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Margin ]),\r\n    lg  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Margin ]),\r\n    xl  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Margin ])\r\n  })\r\n]);\r\n\r\nexport const BsPadding = PropTypes.oneOfType([\r\n  Padding,\r\n  PropTypes.exact({\r\n    def : Padding,\r\n    sm  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Padding ]),\r\n    md  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Padding ]),\r\n    lg  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Padding ]),\r\n    xl  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Padding ])\r\n  })\r\n]);\r\n\r\n\r\n// TODO: Border\r\nexport const BsBorder = PropTypes.oneOfType([\r\n  PropTypes.bool,\r\n  PropTypes.exact({ t: PropTypes.bool, b: PropTypes.bool, l: PropTypes.bool, r: PropTypes.bool })\r\n]);\r\n\r\nexport const BsRounded = PropTypes.oneOfType([\r\n  PropTypes.bool,\r\n  PropTypes.exact({\r\n    size: PropTypes.oneOf([ 'sm', 'lg' ]),\r\n    type: PropTypes.oneOf([ 'top', 'bottom', 'left', 'right', 'circle', 'pill' ])\r\n  })\r\n]);\r\n\r\n\r\n// TODO: Display\r\nconst Col12 = PropTypes.oneOf([ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 ]);\r\nconst ColWidth = PropTypes.oneOfType([ Col12, PropTypes.oneOf([ 'auto' ])]);\r\nconst ColOrder = PropTypes.oneOfType([ Col12, PropTypes.oneOf([ 'first', 'last' ])]);\r\n\r\nexport const BreakPoint = PropTypes.oneOf([ 'def', 'sm', 'md', 'lg', 'xl' ]);\r\n\r\nexport const BsHidden = PropTypes.oneOfType([\r\n  PropTypes.bool,\r\n  BreakPoint,\r\n  PropTypes.arrayOf(BreakPoint)\r\n]);\r\n\r\nexport const BsColWidth = PropTypes.oneOfType([\r\n  ColWidth,\r\n  PropTypes.exact({\r\n    def : ColWidth,\r\n    sm  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColWidth ]),\r\n    md  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColWidth ]),\r\n    lg  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColWidth ]),\r\n    xl  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColWidth ])\r\n  })\r\n]);\r\n\r\nexport const BsColOffset = PropTypes.oneOfType([\r\n  PropTypes.oneOf([ false ]),\r\n  Col12,\r\n  PropTypes.exact({\r\n    def : Col12,\r\n    sm  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Col12 ]),\r\n    md  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Col12 ]),\r\n    lg  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Col12 ]),\r\n    xl  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), Col12 ])\r\n  })\r\n]);\r\n\r\nexport const BsColOrder = PropTypes.oneOfType([\r\n  PropTypes.oneOf([ false ]),\r\n  ColOrder,\r\n  PropTypes.exact({\r\n    def : ColOrder,\r\n    sm  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColOrder ]),\r\n    md  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColOrder ]),\r\n    lg  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColOrder ]),\r\n    xl  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), ColOrder ])\r\n  })\r\n]);\r\n\r\n\r\n// TODO: Bootstrap Tag Name & Children\r\nexport const BsTagName = PropTypes.oneOfType([ PropTypes.string, PropTypes.elementType ]);\r\n\r\nexport const BsChildren = PropTypes.any.isRequired;\r\n\r\n\r\n// TODO: Button Code\r\nexport const CLOSE_MODAL = Symbol('CLOSE_MODAL');\r\n","import { createElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { uniqueArray, getBsClass, getContainerClasses } from './options.fn';\r\n\r\nimport {\r\n  BsContainerColor,\r\n  BsTagName,\r\n  BsChildren,\r\n  BreakPoint,\r\n  BsMargin,\r\n  BsPadding,\r\n  BsBorder,\r\n  BsRounded,\r\n  BsHidden,\r\n  BsColWidth,\r\n  BsColOffset,\r\n  BsColOrder\r\n} from './options.type';\r\n\r\n\r\n// TODO: Container\r\nexport const BsContainer = props => createElement(props.tagName || 'div', {\r\n  ...(props.options || {}),\r\n  className: `container ${ getContainerClasses('block', props) }`\r\n}, props.children);\r\n\r\nBsContainer.propTypes = {\r\n  children  : BsChildren,\r\n  tagName   : BsTagName,\r\n  className : PropTypes.string,\r\n\r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ]),\r\n  hidden  : BsHidden,\r\n  options : PropTypes.object\r\n};\r\n\r\n\r\n// TODO: Row\r\nexport const BsRow = props => createElement(props.tagName || 'div', {\r\n  ...(props.options || {}),\r\n  className: `row ${ getContainerClasses('flex', props) } ${ uniqueArray([\r\n    (props.gutters || true) === true ? '' : 'no-gutters',\r\n    (props.align || false) === false ? '' : `justify-content-${ getBsClass({ size: props.alignable, end: props.align }) }`\r\n  ]).join(' ')}`\r\n}, props.children);\r\n\r\nBsRow.propTypes = {\r\n  children  : BsChildren,\r\n  tagName   : BsTagName,\r\n  className : PropTypes.string,\r\n\r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ]),\r\n  hidden  : BsHidden,\r\n\r\n  gutters   : PropTypes.bool,\r\n  align     : PropTypes.oneOf([ false, 'start', 'center', 'end', 'around', 'between' ]),\r\n  alignable : BreakPoint,\r\n  options   : PropTypes.object\r\n};\r\n\r\n\r\n// TODO: Column\r\nfunction getColOptions(options, fn) {\r\n  const opts = options instanceof Object ? options : { def: options };\r\n\r\n  Object.keys(opts).forEach(size => opts[size] === false ? null : fn(size, opts[size]));\r\n}\r\n\r\nfunction getColClasses({ width = 'auto', offset = false, order = false }) {\r\n  return [ width, offset, order ].reduce((cls, option, i) => {\r\n    switch (i) {\r\n      case 0: getColOptions(option, (size, opts) =>\r\n        cls.push(getBsClass({ size, start: 'col', end: 'auto' === opts ? '' : opts }))\r\n      ); break;\r\n      case 1: getColOptions(option, (size, opts) =>\r\n        cls.push(getBsClass({ size, start: 'offset', end: opts }))\r\n      ); break;\r\n      case 2: getColOptions(option, (size, opts) =>\r\n        cls.push(getBsClass({ size, start: 'order', end: opts }))\r\n      ); break;\r\n      default:\r\n    }\r\n    return [ ...cls ];\r\n  }, []);\r\n}\r\n\r\nexport const BsCol = props => createElement(props.tagName || 'div', {\r\n  ...(props.options || {}),\r\n  className: `${ getContainerClasses('block', props) } ${ uniqueArray(['col', ...getColClasses(props)]).join(' ')}`\r\n}, props.children);\r\n\r\nBsCol.propTypes = {\r\n  children  : BsChildren,\r\n  tagName   : BsTagName,\r\n  className : PropTypes.string,\r\n\r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ]),\r\n  hidden  : BsHidden,\r\n\r\n  width   : BsColWidth,\r\n  offset  : BsColOffset,\r\n  order   : BsColOrder,\r\n  options : PropTypes.object\r\n};\r\n","import { useCallback, useState, useEffect } from 'react';\r\n\r\n\r\nfunction getInvalid(result) {\r\n  return result === false ? 'MSG_INVALID_VALUE' : 'string' === typeof result && !!result ? result : false;\r\n}\r\n\r\nexport function isInvalidDisabled(invalid) {\r\n  return invalid === undefined || ('string' === typeof invalid && !!invalid.trim());\r\n}\r\n\r\nexport function useCancelEvent() {\r\n  return useCallback(e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }, []);\r\n}\r\n\r\nexport function useSelectOption({ onSelect }) {\r\n  const doSelect = useCallback(option => onSelect(option), [ onSelect ]);\r\n\r\n  return useCallback(option => (() => doSelect(option)), [ doSelect ]);\r\n};\r\n\r\nexport function useChange([ value, setValue ], validation = () => true) {\r\n  const [ invalid, setInvalid ] = useState();\r\n\r\n  useEffect(() => {\r\n    const vres = validation(value);\r\n\r\n    if (vres instanceof Promise)\r\n      vres.then(result => setInvalid(getInvalid(result)));\r\n    else\r\n      setInvalid(getInvalid(vres));\r\n  }, [ value, validation, setInvalid ]);\r\n\r\n  return [\r\n    value,\r\n    useCallback(e => setValue(e.target.value), [ setValue ]),\r\n    invalid\r\n  ];\r\n};\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport $ from 'jquery';\r\n\r\nimport { useI18n } from '../../services/i18n';\r\n\r\nimport { getColorClasses } from './options.fn';\r\nimport { BsContainerColor, BsChildren, BsBtnColors, CLOSE_MODAL } from './options.type';\r\n\r\n\r\n// TODO: Events\r\nfunction useEvents({ isShow, setShow, backdrop, onShow, handler }) {\r\n  const handlerFn = useCallback(code => () => handler(code) ? null : setShow(false), [ setShow, handler ]);\r\n\r\n  useEffect(() => { if (isShow) onShow(); });\r\n\r\n  return {\r\n    doCloseModal: useCallback(() => handlerFn(CLOSE_MODAL)(), [ handlerFn ]),\r\n\r\n    onHandler: handlerFn,\r\n\r\n    onClickBackdrop: useCallback(\r\n      e => 'static' === backdrop || !$(e.target).hasClass('puzzle-bingo-bs') ? null : handlerFn(CLOSE_MODAL)(),\r\n      [ backdrop, handlerFn ]\r\n    )\r\n  };\r\n}\r\n\r\n// TODO: Components\r\nexport default function BsModal({\r\n  children,\r\n  size = 'default',\r\n  show: [ isShow, setShow ],\r\n  colors,\r\n  backdrop,\r\n  icon = '',\r\n  title = '',\r\n  btns = [],\r\n  handler = () => {},\r\n  onShow = () => {}\r\n}) {\r\n  const { get } = useI18n();\r\n  const { doCloseModal, onHandler, onClickBackdrop } = useEvents({ isShow, setShow, backdrop, onShow, handler });\r\n\r\n  return !isShow ? null : (\r\n    <div className=\"puzzle-bingo-bs modal fade show\" onClick={ onClickBackdrop }>\r\n      <div className={ `modal-dialog ${ 'default' === size ? '' : `modal-${ size }` }` }>\r\n        <div className={ `modal-content ${ getColorClasses(colors) }` }>\r\n\r\n          {/* TODO: Header */}\r\n          { !title ? null : (\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\">\r\n                { !icon ? null : <i className={ `mr-2 ${icon}` } /> }\r\n                { get(title) }\r\n              </h5>\r\n\r\n              { 'static' === backdrop ? null : (\r\n                <button type=\"button\" className=\"close\" onClick={ doCloseModal }>\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* TODO: Body */}\r\n          <div className=\"modal-body\">\r\n            { children }\r\n          </div>\r\n\r\n          {/* TODO: Footer Buttons */}\r\n          { btns.length === 0 ? null : (\r\n            <div className=\"modal-footer\">\r\n              { btns.map(({ icon: btnIcon, text, code = CLOSE_MODAL, color = 'secondary' }) =>\r\n                <button type=\"button\" className={ `btn btn-${ color }` } onClick={ onHandler(code) }>\r\n                  { !btnIcon ? null : <i className={ `mr-2 ${ btnIcon }` } />}\r\n                  { get(text) }\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nBsModal.propTypes = {\r\n  children : BsChildren,\r\n  size     : PropTypes.oneOf([ 'default', 'sm', 'lg', 'xl' ]),\r\n  icon     : PropTypes.string,\r\n  title    : PropTypes.string,\r\n  show     : PropTypes.array.isRequired,\r\n  backdrop : PropTypes.oneOf([ 'static' ]),\r\n  colors   : BsContainerColor,\r\n  handler  : PropTypes.func,\r\n  onShow   : PropTypes.func,\r\n  btns     : PropTypes.arrayOf(PropTypes.exact({\r\n    icon   : PropTypes.string,\r\n    text   : PropTypes.string,\r\n    color  : BsBtnColors,\r\n    code   : PropTypes.instanceOf(Symbol)\r\n  }))\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getColorClasses } from './options.fn';\r\nimport { BsContainerColor, BsChildren } from './options.type';\r\n\r\n\r\nexport default function BsCollapse({\r\n  children,\r\n  className = '',\r\n  isShow,\r\n  colors,\r\n  onShow = () => {}\r\n}) {\r\n  useEffect(() => { if (isShow) onShow(); });\r\n\r\n  return !isShow ? null : (\r\n    <div className={ `collapse show ${ className } ${ getColorClasses(colors) }` }>\r\n      { children }\r\n    </div>\r\n  );\r\n};\r\n\r\nBsCollapse.propTypes = {\r\n  children  : BsChildren,\r\n  className : PropTypes.string,\r\n  isShow    : PropTypes.bool.isRequired,\r\n  colors    : BsContainerColor,\r\n  onShow    : PropTypes.func\r\n};\r\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useI18n } from '../../services/i18n';\r\nimport { GameCustom } from '../../services/game';\r\n\r\nimport { useChange, useCancelEvent, isInvalidDisabled } from '../../services/custom/events';\r\n\r\nimport BsModal from '../bs/Modal';\r\nimport BsCollapse from '../bs/Collapse';\r\nimport { BsContainer, BsRow, BsCol } from '../bs/Grid';\r\n\r\nimport logo from '../../assets/imgs/logo-bingo.png';\r\nimport '../../assets/css/IntroModal.scss';\r\n\r\n\r\n// TODO: Custom Functions\r\nfunction useGameID(dispatch) {\r\n  return useChange(\r\n    useState((new URL(window.location.href).searchParams.get('gameID') || '').replace('#/', '')),\r\n    useCallback(id => !id ? 'MSG_REQUIRED_GAME_ID' : new Promise(resolve => dispatch({\r\n      action: 'SEARCH_GAME',\r\n      gameID: id,\r\n      onSuccess: () => resolve(true),\r\n      onFail: err => resolve(err)\r\n    })), [ dispatch ])\r\n  );\r\n}\r\n\r\nfunction useCustom({ setShow }) {\r\n  const { dispatch } = GameCustom.useGame();\r\n  const [ gameID, onChangeID, invalidID ] = useGameID(dispatch);\r\n  const [ expand, setExpand ] = useState(useMemo(() => gameID ? 'join' : 'main', [ gameID ]));\r\n  const doSwitch = useCallback(collapseID => setExpand(collapseID), [ setExpand ]);\r\n\r\n  useEffect(() => 'main' === expand ? window.history.replaceState({}, document.title, '/puzzle-bingo339') : undefined);\r\n\r\n  return {\r\n    gameID,\r\n    expand,\r\n    invalidID,\r\n    onChangeID,\r\n\r\n    onSubmit: useCancelEvent(),\r\n\r\n    onSwitch: useCallback(options => () => doSwitch(options), [ doSwitch ]),\r\n\r\n    onNewGame: useCallback(() => dispatch({\r\n      action    : 'NEW_GAME',\r\n      onSuccess : ({ gameID }) => {\r\n        setShow(false);\r\n\r\n        window.open(`https://social-plugins.line.me/lineit/share?url=${ encodeURIComponent(\r\n          `https://tabacotaco.github.io/puzzle-bingo339?gameID=${ gameID }`\r\n        )}`);\r\n      }\r\n    }), [ dispatch, setShow ]),\r\n\r\n    onJoinGame: useCallback(() => dispatch({\r\n      action    : 'JOIN_GAME',\r\n      gameID    : gameID,\r\n      onSuccess : () => {\r\n        setShow(false);\r\n        window.history.replaceState({}, document.title, '/puzzle-bingo339');\r\n      },\r\n      onFail    : err => console.log(err)\r\n    }), [ gameID, dispatch, setShow ])\r\n  };\r\n}\r\n\r\n\r\n// TODO: Component\r\nexport default function IntroModal({ show: [ show, setShow ] }) {\r\n  const { get } = useI18n();\r\n  const { gameID, expand, invalidID, onSubmit, onSwitch, onChangeID, onNewGame, onJoinGame } = useCustom({ setShow });\r\n\r\n  return (\r\n    <BsModal show={[ show, setShow ]} backdrop=\"static\" size=\"lg\" colors={{ bg: 'dark', text: 'white' }}>\r\n      <BsCollapse isShow={ 'main' === expand }>\r\n        <BsContainer className=\"intro-container\" border rounded padding={{ x: 2, y: 5 }} colors={{ border: 'warning' }}>\r\n          <h4 className=\"welcome-title text-center text-warning font-weight-light font-italic text-shadow-sm-light\">\r\n            Welcome To\r\n          </h4>\r\n\r\n          <h1 className=\"text-center game-title my-5 text-shadow-sm-light font-weight-bolder\">\r\n            <span className=\"title-head text-primary font-italic\">Puzzle</span>\r\n            <span className=\"title-body text-danger\">Bingo</span>\r\n\r\n            <img alt=\"Logo\" src={ logo } />\r\n          </h1>\r\n\r\n          <BsRow className=\"intro-dashboard\" align=\"center\">\r\n            <BsCol width={{ def: 10, sm: 8, md: 6 }}>\r\n              <button type=\"button\" className=\"btn btn-link btn-lg btn-block text-secondary\" onClick={ onNewGame }>\r\n                <i className=\"fa fa-gamepad mr-2 text-warning\" />{ get('NEW_GAME') }\r\n              </button>\r\n\r\n              <button type=\"button\" className=\"btn btn-link btn-lg btn-block text-secondary\" onClick={ onSwitch('join') }>\r\n                <i className=\"fa fa-sign-in mr-2 text-warning\" />{ get('JOIN_GAME') }\r\n              </button>\r\n            </BsCol>\r\n          </BsRow>\r\n        </BsContainer>\r\n      </BsCollapse>\r\n\r\n      <BsCollapse isShow={ 'join' === expand }>\r\n        <form onSubmit={ onSubmit }>\r\n          <div className=\"modal-body\">\r\n            <BsContainer>\r\n              <BsRow>\r\n                <BsCol className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control\" value={ gameID } onChange={ onChangeID } />\r\n\r\n                  { !invalidID ? null : (\r\n                    <div className=\"py-2 px-3 my-1 text-warning\">\r\n                      <i className=\"fa fa-exclamation mr-2\" />{ get(invalidID) }\r\n                    </div>\r\n                  )}\r\n                </BsCol>\r\n              </BsRow>\r\n            </BsContainer>\r\n          </div>\r\n\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={ onSwitch('main') }>\r\n              <i className=\"fa fa-undo mr-2\" /> Back\r\n            </button>\r\n\r\n            <button type=\"submit\" className=\"btn btn-danger\" disabled={ isInvalidDisabled(invalidID) } onClick={ onJoinGame }>\r\n              <i className=\"fa fa-undo mr-2\" /> Join\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </BsCollapse>\r\n    </BsModal>\r\n  );\r\n};\r\n\r\nIntroModal.propTypes = {\r\n  show: PropTypes.array.isRequired\r\n};\r\n","import React, { createElement, useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getContainerClasses } from './options.fn';\r\n\r\nimport {\r\n  BsTagName,\r\n  BsChildren,\r\n  BsMargin,\r\n  BsPadding,\r\n  BsBorder,\r\n  BsRounded,\r\n  BsContainerColor\r\n} from './options.type';\r\n\r\n\r\n// TODO: Private Component\r\nconst BsCardExtends = ({ tagName, children, name, className = '' }) => createElement(tagName, {\r\n  className: `${ name } ${ className }`\r\n}, children);\r\n\r\nconst defaultPropTypes = {\r\n  tagName   : BsTagName,\r\n  children  : BsChildren,\r\n  className : PropTypes.string\r\n};\r\n\r\nBsCardExtends.propTypes = {\r\n  ...defaultPropTypes,\r\n  tagName : BsTagName.isRequired,\r\n  name    : PropTypes.string.isRequired\r\n};\r\n\r\n\r\n// TODO: Card Components\r\nexport const BsCardTitle = props => BsCardExtends({ ...props, name: 'card-title' });\r\nBsCardTitle.defaultProps = { tagName: 'h5' };\r\nBsCardTitle.propTypes = defaultPropTypes;\r\n\r\nexport const BsCardText = props => BsCardExtends({ ...props, name: 'card-text' });\r\nBsCardText.defaultProps = { tagName: 'p' };\r\nBsCardText.propTypes = defaultPropTypes;\r\n\r\nexport const BsCardHeader = props => BsCardExtends({\r\n  ...props,\r\n  name      : 'card-header rounded-top',\r\n  className : getContainerClasses('block', props)\r\n});\r\n\r\nBsCardHeader.defaultProps = { tagName: 'div' };\r\nBsCardHeader.propTypes = {\r\n  ...defaultPropTypes,\r\n\r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ])\r\n};\r\n\r\nexport const BsCardBody = props => BsCardExtends({\r\n  ...props,\r\n  name      : 'card-body',\r\n  className : getContainerClasses('block', props)\r\n});\r\n\r\nBsCardBody.defaultProps = { tagName: 'div' };\r\nBsCardBody.propTypes = {\r\n  ...defaultPropTypes,\r\n\r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ])\r\n};\r\n\r\nexport const BsCardFooter = props => BsCardExtends({\r\n  ...props,\r\n  name      : 'card-footer rounded-bottom',\r\n  className : getContainerClasses('block', props)\r\n});\r\n\r\nBsCardFooter.defaultProps = { tagName: 'div' };\r\nBsCardFooter.propTypes = {\r\n  ...defaultPropTypes,\r\n\r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ])\r\n};\r\n\r\n\r\n// TODO: Card Panel\r\nfunction useCustomCard(image) {\r\n  const [ visibled, setVisibled ] = useState(!image);\r\n\r\n  return {\r\n    visibled,\r\n    onImageLoad: useCallback(() => setVisibled(true), [ setVisibled ])\r\n  };\r\n}\r\n\r\nexport default function BsCard(props) {\r\n  const { children, image } = props;\r\n  const { visibled, onImageLoad } = useCustomCard(image);\r\n\r\n  return (\r\n    <div className={`card ${ getContainerClasses(visibled ? 'flex' : 'none', props) }`}>\r\n      { !image ? null : (\r\n        <img className=\"card-img-top\" alt=\"card-header\" src={ image } onLoad={ onImageLoad } />\r\n      )}\r\n\r\n      { children }\r\n    </div>\r\n  );\r\n};\r\n\r\nBsCard.propTypes = {\r\n  children  : BsChildren,\r\n  className : PropTypes.string,\r\n  image     : PropTypes.string,\r\n  \r\n  margin  : BsMargin,\r\n  padding : BsPadding,\r\n  border  : BsBorder,\r\n  rounded : BsRounded,\r\n  colors  : PropTypes.oneOfType([ PropTypes.oneOf([ false ]), BsContainerColor ])\r\n};\r\n","import React, { useMemo, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useI18n } from '../../services/i18n';\r\nimport { GameCustom } from '../../services/game';\r\n\r\nimport BsCard, { BsCardHeader, BsCardBody, BsCardFooter, BsCardTitle, BsCardText } from '../bs/Card';\r\n\r\nimport '../../assets/css/BingoCard.scss';\r\n\r\n\r\n// TODO: Custom Function\r\nfunction useBingoCard({ card, onUseCard }) {\r\n  const { rangeX: x, rangeY: y, ranges } = card;\r\n\r\n  return {\r\n    bgClass   : useMemo(() => 'ATTACK' === card.type ? 'bg-teal' : 'bg-warning', [ card ]),\r\n    ranges    : useMemo(() => !ranges ? [{ x, y }] : ranges, [ x, y, ranges ]),\r\n    doUseCard : useCallback(() => onUseCard(card), [ onUseCard, card ])\r\n  };\r\n}\r\n\r\n\r\n// TODO: Component - BingoCard\r\nexport default function BingoCard({ card, onUseCard = () => {} }) {\r\n  const { get } = useI18n();\r\n  const { type, description, count = 0 } = card;\r\n  const { bgClass, ranges, doUseCard } = useBingoCard({ card, onUseCard });\r\n\r\n  return (\r\n    <BsCard className={`card-info text-dark ${ bgClass }`} image={ GameCustom.useCardImage(card) }>\r\n      <BsCardHeader className=\"font-weight-bolder text-shadow-sm-dark\">\r\n        <i className=\"fa fa-magic mr-2\" />\r\n        { get(`CARD_TITLE_FOR_${ type }`) }\r\n      </BsCardHeader>\r\n\r\n      <BsCardBody>\r\n        <BsCardTitle className=\"font-weight-bolder text-shadow-sm-dark\">\r\n          { get(`CARD_NAME_${ type }_${ description }`) }\r\n        </BsCardTitle>\r\n\r\n        { !count ? null : (\r\n          <BsCardText>\r\n            <label className=\"font-weight-bolder mr-2\">\r\n              { get('CARD_LABEL_COUNT') }:\r\n            </label>\r\n\r\n            { count }\r\n          </BsCardText>\r\n        )}\r\n\r\n        <BsCardText>\r\n          <label className={`font-weight-bolder mr-2 ${ ranges.lengnth > 1 ? 'd-block' : '' }`}>\r\n            { get('CARD_LABEL_RANGE') }:\r\n          </label>\r\n\r\n          { ranges.map(({ x, y }, i) => (\r\n            <span key={`range-${ i }`} className={ ranges.lengnth > 1 ? 'd-block' : '' }>\r\n              { x } &times; { y }\r\n            </span>\r\n          ))}\r\n        </BsCardText>\r\n\r\n        <BsCardText>\r\n          <label className=\"font-weight-bolder d-block mr-2\">\r\n            { get('CARD_LABEL_DESC') }:\r\n          </label>\r\n\r\n          { get(`CARD_DESC_${ type }_${ description }`) }\r\n        </BsCardText>\r\n      </BsCardBody>\r\n\r\n      { count ? null : (\r\n        <BsCardFooter className=\"text-center\">\r\n          <button type=\"button\" className=\"btn btn-dark\" onClick={ doUseCard }>\r\n            <i className=\"fa fa-map-marker mr-2\" />{ get('BTN_USE_CARD') }\r\n          </button>\r\n        </BsCardFooter>\r\n      )}\r\n    </BsCard>\r\n  );\r\n};\r\n\r\nBingoCard.propTypes = {\r\n  card: PropTypes.exact({\r\n    type        : PropTypes.oneOf([ 'ATTACK', 'DEFENSE' ]).isRequired,\r\n    description : PropTypes.oneOf([ 'BOMB', 'FOG', 'LOCK', 'MIRROR' ]).isRequired,\r\n    count       : PropTypes.number,\r\n    rangeX      : PropTypes.oneOf([ 1, 3, 9 ]),\r\n    rangeY      : PropTypes.oneOf([ 1, 3, 9 ]),\r\n    ranges      : PropTypes.arrayOf(\r\n      PropTypes.exact({\r\n        rangeX  : PropTypes.oneOf([ 1, 3, 9 ]).isRequired,\r\n        rangeY  : PropTypes.oneOf([ 1, 3, 9 ]).isRequired\r\n      })\r\n    )\r\n  }).isRequired ,\r\n  onUseCard     : PropTypes.func\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const CardEffectType = PropTypes.exact({\r\n  type        : PropTypes.oneOf([ 'DEFENSE' ]).isRequired,\r\n  description : PropTypes.oneOf([ 'BOMB', 'FOG', 'LOCK', 'MIRROR' ]).isRequired\r\n});\r\n\r\nexport const EffectsType = PropTypes.arrayOf(PropTypes.oneOfType([\r\n  PropTypes.any,\r\n  CardEffectType\r\n]));\r\n\r\nexport const TerritoryZoneType = PropTypes.exact({\r\n  bgClass : PropTypes.string.isRequired,\r\n  numbers : PropTypes.arrayOf(PropTypes.exact({\r\n    x       : PropTypes.number.isRequired,\r\n    y       : PropTypes.number.isRequired,\r\n    number  : PropTypes.number.isRequired,\r\n    attacks : EffectsType\r\n  }))\r\n}).isRequired;\r\n","import React, { useCallback, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport uuidv4 from 'uuid/v4';\r\nimport $ from 'jquery';\r\n\r\nimport { useI18n } from '../../services/i18n';\r\nimport { GameCustom } from '../../services/game';\r\nimport { EffectsType, TerritoryZoneType } from './options.type';\r\n\r\nimport { BsContainer, BsRow, BsCol } from '../bs/Grid';\r\n\r\nimport '../../assets/css/Territories.scss';\r\n\r\n\r\n// TODO: Custom Function\r\nconst empty = [{}, {}, {}, {}, {}, {}, {}, {}, {}];\r\n\r\nconst defaultZones = {\r\n  0: { bgClass: 'zone-bg-1' },\r\n  1: { bgClass: 'zone-bg-2' },\r\n  2: { bgClass: 'zone-bg-3' },\r\n  3: { bgClass: 'zone-bg-4' },\r\n  4: { bgClass: 'zone-bg-5' },\r\n  5: { bgClass: 'zone-bg-6' },\r\n  6: { bgClass: 'zone-bg-7' },\r\n  7: { bgClass: 'zone-bg-8' },\r\n  8: { bgClass: 'zone-bg-9' }\r\n};\r\n\r\nfunction useTerritories({ cursor, mode, defenses }) {\r\n  const { get } = useI18n();\r\n  const [ cursorOn, setCursorOn ] = useState({ show: false, clientX: 0, clientY: 0 });\r\n  const [ territoriesID ] = useState(uuidv4());\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(defenses).length > 0) $(`#${ territoriesID }`).find('.defense-icons').each(\r\n      (i, el) => $(el).popover({\r\n        title     : get('TERRITORIES_TITLE_DEFENSES'),\r\n        container : 'body',\r\n        toggle    : 'popover',\r\n        html      : true,\r\n        trigger   : 'hover',\r\n        placement : 'bottom',\r\n        content   : defenses[`${ $(el).attr('data-x') }-${ $(el).attr('data-y') }`].map(\r\n          card => `<img alt=\"defense-icon\" class=\"defense-icon\" src=\"${ GameCustom.useCardImage(card) }\" />`\r\n        ).join('')\r\n      })\r\n    );\r\n  });\r\n\r\n  return {\r\n    territoriesID,\r\n    cursorOn,\r\n\r\n    onHoverCursor: useCallback(show => e => !cursor && mode !== 'switch' ? null : setCursorOn({\r\n      show,\r\n      clientX: e.clientX,\r\n      clientY: e.clientY,\r\n      ...(!show ? {} : (el => {\r\n        if (!el.classList.contains('bingo-number'))\r\n          return {};\r\n\r\n        return {\r\n          hoverX: el.getAttribute('data-x'),\r\n          hoverY: el.getAttribute('data-y'),\r\n          hoverZ: el.getAttribute('data-z')\r\n        };\r\n      })(document.elementFromPoint(e.clientX, e.clientY)))\r\n    }), [ cursor, mode ])\r\n  };\r\n}\r\n\r\n\r\n// TODO: Private Component\r\nfunction Land({\r\n  isSelecting = false,\r\n  defenses    = false,\r\n  onSelected  = () => {},\r\n  options: {\r\n    i, z,\r\n    number = '',\r\n    x      = parseFloat(z) % 3 * 3 + i % 3,\r\n    y      = Math.floor(parseFloat(z) / 3) * 3 + Math.floor(i / 3)\r\n  }\r\n}) {\r\n  return (\r\n    <BsCol rounded border {...{\r\n      tagName    : isSelecting ? 'button' : 'div',\r\n      className  : `bingo-number text-center ${ !defenses ? '' : 'defense-icons' }`,\r\n      width      : 4,\r\n      padding    : 0,\r\n      options    : {\r\n        'data-x' : x,\r\n        'data-y' : y,\r\n        'data-z' : z,\r\n        ...(!isSelecting ? {} : { onClick: () => onSelected({ number, x, y, z })})\r\n      }\r\n    }}>\r\n      { number }\r\n    </BsCol>\r\n  );\r\n}\r\n\r\n\r\n// TODO: Territories Component\r\nexport default function Territories({\r\n  cursor,\r\n  mode,\r\n  defenses    = {},\r\n  className   = '',\r\n  hoverOn     = 'cell',\r\n  isSelecting = false,\r\n  onSelected  = () => {},\r\n  zones       = defaultZones\r\n}) {\r\n  const {\r\n    territoriesID,\r\n    onHoverCursor,\r\n    cursorOn: { show, clientX, clientY, hoverX, hoverY, hoverZ }\r\n  } = useTerritories({ cursor, mode, defenses });\r\nconsole.log(zones);\r\n  return (\r\n    <BsContainer padding={ 0 } options={{\r\n      id             : territoriesID,\r\n      'data-hover-x' : hoverX,\r\n      'data-hover-y' : hoverY,\r\n      'data-hover-z' : hoverZ,\r\n      onMouseMove    : onHoverCursor(true),\r\n      onMouseLeave   : onHoverCursor(false)\r\n    }} className={`territories ${ className } ${ mode }-${ 'switch' === mode ? 'zone' : hoverOn }`}>\r\n      { !show || !cursor ? null : (\r\n        <img className=\"cursor\" alt=\"cursor\" src={ cursor } style={{ top: clientY, left: clientX }} />\r\n      )}\r\n\r\n      <BsRow align=\"center\">\r\n        { Object.keys(zones).map(z => ({ ...zones[z], z })).map(({ z, numbers = empty, bgClass }) => (\r\n          <BsCol key={`zone-${ z }`} className={`container zone ${ bgClass }`} padding={ 0 } margin={ 0 } width={ 4 } border rounded>\r\n            <BsRow margin={ 1 } options={{ style: { opacity: isSelecting ? 1 : .8 }}}>\r\n              { numbers.map(({ x, y, number }, i) => (\r\n                <Land key={`number-${ number || i }`} {...{\r\n                  options  : { number, x, y, z, i },\r\n                  defenses : defenses[`${ x }-${ y }`],\r\n                  isSelecting,\r\n                  onSelected\r\n                }} />\r\n              ))}\r\n            </BsRow>\r\n          </BsCol>\r\n        ))}\r\n      </BsRow>\r\n    </BsContainer>\r\n  );\r\n};\r\n\r\nTerritories.propTypes = {\r\n  className   : PropTypes.string,\r\n  isSelecting : PropTypes.bool,\r\n  mode        : PropTypes.oneOf([ 'attack', 'defense', 'build', 'switch' ]).isRequired,\r\n  hoverOn     : PropTypes.oneOf([ 'cell', 'line-x', 'line-y', 'zone' ]),\r\n  cursor      : PropTypes.string,\r\n  onSelected  : PropTypes.func,\r\n  defenses    : PropTypes.shape({\r\n    [ PropTypes.string.isRequired ]: EffectsType\r\n  }),\r\n  zones       : PropTypes.oneOfType([\r\n    PropTypes.exact({}),\r\n    PropTypes.shape({\r\n      0: TerritoryZoneType,\r\n      1: TerritoryZoneType,\r\n      2: TerritoryZoneType,\r\n      3: TerritoryZoneType,\r\n      4: TerritoryZoneType,\r\n      5: TerritoryZoneType,\r\n      6: TerritoryZoneType,\r\n      7: TerritoryZoneType,\r\n      8: TerritoryZoneType\r\n    })\r\n  ])\r\n};\r\n","import React, { useMemo, useCallback, createElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useI18n } from '../../services/i18n';\r\nimport { GameCustom } from '../../services/game';\r\n\r\nimport { BsContainer, BsRow, BsCol } from '../bs/Grid';\r\n\r\nimport BingoCard from './BingoCard';\r\nimport Territories from './Territories';\r\n\r\nimport '../../assets/css/GameStep.scss';\r\n\r\n\r\n// TODO: Custom Functions\r\nfunction useStepName({ status, step = 0, card = {} }) {\r\n  return useMemo(() => {\r\n    switch (status) {\r\n      case 'WAITING'  : return 'Waiting';\r\n      case 'FINISH'   : return 'Finish';\r\n      case 'PLAYING'  :\r\n        switch (step) {\r\n          case 0      : return 'Switch';\r\n          case 1      : return 'GetCard';\r\n          case 2      : return 'ShowCard';\r\n          case 3      : return 'ATTACK' === card.type ? 'Attack' : null;\r\n          default     : return null;\r\n        }\r\n      default         : return null;\r\n    }\r\n  }, [ status, step, card ]);\r\n}\r\n\r\n\r\n// TODO: Private Components\r\nfunction CenterMessage({ icon, children, onClose = () => {} }) {\r\n  const { get } = useI18n();\r\n\r\n  return (\r\n    <BsContainer className=\"center-message shadow-light\" padding={ 3 } colors={{ bg: 'warning', text: 'dark' }}>\r\n      <BsRow align=\"center\" padding={{ x: 5 }}>\r\n        <BsCol className=\"tip-content\" width={{ def: 12, sm: 8, md: 4 }}>\r\n          { !icon ? null : (\r\n            <i className={`tip-icon ${ icon.className || icon } ${ icon.animation || '' } float-${ icon.align || 'none' }`} />\r\n          )}\r\n\r\n          { children }\r\n        </BsCol>\r\n\r\n        <BsCol className=\"text-center\" width={ 12 }>\r\n          <button type=\"button\" className=\"btn btn-dark mt-2\" onClick={ onClose }>\r\n            <i className=\"fa fa-undo mr-2\" />{ get('BTN_TO_MENU') }\r\n          </button>\r\n        </BsCol>\r\n      </BsRow>\r\n    </BsContainer>\r\n  );\r\n};\r\n\r\nconst Step = {\r\n  Waiting({ onCancelWaiting = () => {} }) {\r\n    return (\r\n      <div className=\"step-modal d-flex justify-content-center\">\r\n        <CenterMessage icon={{ className: 'fa fa-spinner', align: 'right', animation: 'rotate' }} onClose={ onCancelWaiting }>\r\n          <span className=\"waiting font-weight-bolder\">\r\n            Waiting\r\n          </span>\r\n        </CenterMessage>\r\n      </div>\r\n    );\r\n  },\r\n  \r\n  Finish({ onGameFinish = () => {} }) {\r\n    return (\r\n      <div className=\"step-modal d-flex justify-content-center\">\r\n        <CenterMessage onClose={ onGameFinish }>\r\n          Game Finished !\r\n        </CenterMessage>\r\n      </div>\r\n    );\r\n  },\r\n  \r\n  Switch() {\r\n    const { get } = useI18n();\r\n  \r\n    return (\r\n      <BsContainer className=\"switching-step\" padding={ 3 } margin={{ t: 3 }} rounded colors={{ bg: 'warning', text: 'dark' }}>\r\n        <BsRow align=\"center\">\r\n          <BsCol>\r\n            { get('MSG_WAITING_COMPETITOR') }\r\n          </BsCol>\r\n        </BsRow>\r\n      </BsContainer>\r\n    );\r\n  },\r\n  \r\n  GetCard() {\r\n    const { get } = useI18n();\r\n    const { dispatch } = GameCustom.useGame();\r\n    const onGetCard = useCallback(() => dispatch({ step: 2 }), [ dispatch ]);\r\n  \r\n    return (\r\n      <div className=\"step-modal d-flex justify-content-center\">\r\n        <BsContainer className=\"center-message shadow-light\" padding={ 3 } colors={{ bg: 'warning', text: 'dark' }}>\r\n          <BsRow align=\"center\" padding={{ x: 2 }}>\r\n            <BsCol className=\"text-center\" width={ 12 }>\r\n              { get('MSG_STEP_GET_CARD') }\r\n            </BsCol>\r\n  \r\n            <BsCol className=\"text-center\" width={ 12 } margin={{ t: 3 }}>\r\n              <button type=\"button\" className=\"btn btn-dark\" onClick={ onGetCard }>\r\n                <i className=\"fa fa-magic mr-2\" />{ get('BTN_GET_CARD') }\r\n              </button>\r\n            </BsCol>\r\n          </BsRow>\r\n        </BsContainer>\r\n      </div>\r\n    );\r\n  },\r\n  \r\n  ShowCard() {\r\n    const { card = {}, dispatch } = GameCustom.useGame();\r\n    const onUseCard = useCallback(() => dispatch({ step: 3 }), [ dispatch ]);\r\n  \r\n    return (\r\n      <div className=\"step-modal d-flex justify-content-center\">\r\n        <BingoCard card={ card } onUseCard={ onUseCard } />\r\n      </div>\r\n    );\r\n  },\r\n  \r\n  Attack() {\r\n    const { get } = useI18n();\r\n    const { card = {}, dispatch } = GameCustom.useGame();\r\n    const hoverOn = GameCustom.useCardRange(card);\r\n  \r\n    const doAttack = useCallback(({ x, y, z }) => dispatch({\r\n      action : 'ATTACK',\r\n      target : hoverOn,\r\n      card, x, y, z,\r\n      onSuccess(content) {\r\n        console.log(content);\r\n      }\r\n    }), [ hoverOn, card, dispatch ]);\r\n  \r\n    return (\r\n      <div className=\"step-modal d-flex justify-content-center\">\r\n        <div className=\"competitor-territories\">\r\n          <h3 className=\"text-center bg-warning text-dark font-weight-bolder mt-3 py-3\">\r\n            { get('MSG_ATTACK_COMPETITOR') }\r\n          </h3>\r\n  \r\n          <Territories isSelecting mode=\"attack\" {...{\r\n            hoverOn,\r\n            cursor     : GameCustom.useCardImage(card),\r\n            onSelected : doAttack\r\n          }} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n\r\n// TODO: Main Component\r\nexport default function GameStep(props) {\r\n  const { status, step = 0, card = {} } = GameCustom.useGame();\r\n  const name = useStepName({ status, step, card });\r\n\r\n  return useMemo(() => !name ? null : createElement(Step[ name ], props), [ name, props ]);\r\n};\r\n\r\nGameStep.propTypes = {\r\n  onCancelWaiting : PropTypes.func,\r\n  onGameFinish    : PropTypes.func\r\n};\r\n","import React, { useState, useMemo, useCallback } from 'react';\nimport { GameCustom } from '../services/game';\n\nimport { BsContainer, BsRow, BsCol } from './bs/Grid';\n\nimport IntroModal from './panel/IntroModal';\nimport GameStep from './panel/GameStep';\nimport Territories from './panel/Territories';\n\nimport '../assets/css/App.scss';\n\n\n// TODO: Custom Function\nfunction useCustom({ step, card, dispatch }) {\n  const defenseRange = GameCustom.useCardRange(card);\n\n  return {\n    isSelecting: useMemo(() => step === 4 || (step === 3 && 'DEFENSE' === card.type), [ step, card ]),\n\n    mode: useMemo(() => step === 4 ? 'build' : step === 3 && 'DEFENSE' === card.type ? 'defense' : 'switch', [ step, card ]),\n\n    hoverOn: useMemo(() => step === 4 ? 'cell' : step === 3 && 'DEFENSE' === card.type ? defenseRange : 'zone', [ step, card, defenseRange ]),\n\n    onBackToMenu: useCallback(() => window.location.reload(), []),\n\n    onSelected: useCallback(({ x, y, z, number }) => {\n      if (step === 3 && 'DEFENSE' === card.type) dispatch({\n        action : 'DEFENSE',\n        target : defenseRange,\n        card, x, y, z,\n        onSuccess(content) {\n          console.log(content);\n        }\n      });\n    }, [ card, step, dispatch, defenseRange ])\n  };\n}\n\n\n// TODO: Component\nexport default function App() {\n  const show = useState(true);\n  const { zones, step, card, defenses, dispatch } = GameCustom.useGame();\n\n  const {\n    isSelecting,\n    mode,\n    hoverOn,\n\n    onBackToMenu,\n    onSelected\n  } = useCustom({ step, card, dispatch });\n\n  return (\n    <div className=\"p-3\">\n      <IntroModal show={ show } />\n\n      <BsContainer padding={ 0 }>\n        <BsRow>\n          <BsCol padding={ 0 }>\n            <BsContainer className=\"app text-white\">\n              <BsRow align=\"center\">\n                <BsCol width={{ def: 11, sm: 10, md: 8, lg: 6}}>\n                  <Territories cursor={ 'defense' === mode ? GameCustom.useCardImage(card) : undefined } {...{\n                    mode,\n                    defenses,\n                    hoverOn,\n                    isSelecting,\n                    zones,\n                    onSelected\n                  }} />\n                </BsCol>\n              </BsRow>\n\n              <GameStep onCancelWaiting={ onBackToMenu } />\n            </BsContainer>\n          </BsCol>\n        </BsRow>\n      </BsContainer>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport $ from 'jquery';\n\nimport I18n from './services/i18n';\nimport Game from './services/game';\n\nimport App from './components/App';\n\nimport 'hammerjs';\nimport 'popper.js';\nimport './assets/css/index.scss';\n\n\nwindow.$ = $;\n\nimport('bootstrap').then(() => ReactDOM.render((\n  <I18n>\n    <Game>\n      <HashRouter>\n        <Switch>\n          <Route component={ App } />\n        </Switch>\n      </HashRouter>\n    </Game>\n  </I18n>\n), document.getElementById('root')));\n"],"sourceRoot":""}